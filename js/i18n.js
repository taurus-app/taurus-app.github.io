// i18n.js - 国际化支持

window.I18N_DICT = {
	en: {
		'dashboard.title': 'Dashboard',
		'dashboard.back': 'Back',
		'dashboard.details': 'Details',
		'dashboard.copy': 'Copy',
		'dashboard.inviteLink': 'My Invitation Link',
		'dashboard.myPartners': 'My Partners',
		'dashboard.invitedBy': 'Invited by ID',
		'dashboard.upgrade': 'Upgrade',
		'dashboard.view': 'View',
		'dashboard.success': 'Success',
		'dashboard.failed': 'Failed',
		'dashboard.loading': 'Loading...',
		'dashboard.logout': 'Logout',
		'register.title': 'Register',
		'register.inviteId': 'Inviter ID',
		'register.connectWallet': 'Connect Wallet',
		'register.register': 'Register',
		'register.copySuccess': 'Invite link copied!',
		'register.copyFailed': 'Copy failed',
		'slotHistory.title': 'Slot History',
		'slotHistory.recentRewards': 'Recent Rewards',
		'slotHistory.noData': 'No reward history found.',
		'slotHistory.back': 'Back',
		'partners.title': 'My Partners',
		'partners.noData': 'No new partners yet.',
		'partners.details': 'Details',
		'partners.myPartners': 'My Partners',
		'partners.invitedBy': 'Invited by ID',
		'partners.vip': 'T',
		'partners.id': 'ID',
		'back': 'Back',
		'newPartners': 'New Partners',
		'view': 'View',
		'upgrade': 'Upgrade',
		'from': 'From',
		'dividend': 'Dividend',
		'clear': 'Clear',
		'directPartnerTip': 'Direct partner - Direct partner occupying a slot in your level',
		'overflowTip': "Overflow from below - Your downline's partner occupying a slot in your level",
		'noBonusTip': 'No bonus generated',
		'walletAddress': 'Wallet Address',
		'tips': 'Tips',
		'registerPayTip': 'Register and pay 0.1 BNB to upgrade to V1 member',
		'availableBalance': 'Available balance'
	},
	zh: {
		'dashboard.title': '仪表盘',
		'dashboard.back': '返回',
		'dashboard.details': '详情',
		'dashboard.copy': '复制',
		'dashboard.inviteLink': '我的邀请链接',
		'dashboard.myPartners': '我的伙伴',
		'dashboard.invitedBy': '邀请人ID',
		'dashboard.upgrade': '升级',
		'dashboard.view': '查看',
		'dashboard.success': '成功',
		'dashboard.failed': '失败',
		'dashboard.loading': '加载中...',
		'dashboard.logout': '退出登录',
		'register.title': '注册',
		'register.inviteId': '邀请人ID',
		'register.connectWallet': '连接钱包',
		'register.register': '注册',
		'register.copySuccess': '已复制',
		'register.copyFailed': '复制失败',
		'slotHistory.title': '插槽历史',
		'slotHistory.recentRewards': '最近奖励',
		'slotHistory.noData': '暂无奖励记录。',
		'slotHistory.back': '返回',
		'partners.title': '我的伙伴',
		'partners.noData': '暂无新伙伴。',
		'partners.details': '详情',
		'partners.myPartners': '我的伙伴',
		'partners.invitedBy': '邀请人ID',
		'partners.vip': 'T',
		'partners.id': 'ID',
		'back': '返回',
		'newPartners': '新伙伴',
		'view': '查看',
		'upgrade': '升级',
		'from': '来自',
		'dividend': '分红',
		'clear': '清空',
		'directPartnerTip': '直接合作伙伴-在您的级别中占据位置的直接合作伙伴',
		'overflowTip': '来自下方的溢出-您的下线的合作伙伴在您的级别中占据位置',
		'noBonusTip': '未产生分红',
		'walletAddress': '钱包地址',
		'tips': '提示',
		'registerPayTip': '注册并支付0.1 BNB升级为V1会员',
		'availableBalance': '可用余额'
	},
	ko: {
		'dashboard.title': '대시보드',
		'dashboard.back': '뒤로',
		'dashboard.details': '상세',
		'dashboard.copy': '복사',
		'dashboard.inviteLink': '내 초대 링크',
		'dashboard.myPartners': '내 파트너',
		'dashboard.invitedBy': '초대한 ID',
		'dashboard.upgrade': '업그레이드',
		'dashboard.view': '보기',
		'dashboard.success': '성공',
		'dashboard.failed': '실패',
		'dashboard.loading': '로딩 중...',
		'dashboard.logout': '로그아웃',
		'register.title': '회원가입',
		'register.inviteId': '초대한 ID',
		'register.connectWallet': '지갑 연결',
		'register.register': '회원가입',
		'register.copySuccess': '초대 링크가 복사되었습니다!',
		'register.copyFailed': '복사 실패',
		'slotHistory.title': '슬롯 내역',
		'slotHistory.recentRewards': '최근 보상',
		'slotHistory.noData': '보상 내역이 없습니다.',
		'slotHistory.back': '뒤로',
		'partners.title': '내 파트너',
		'partners.noData': '새 파트너가 없습니다.',
		'partners.details': '상세',
		'partners.myPartners': '내 파트너',
		'partners.invitedBy': '초대한 ID',
		'partners.vip': 'T',
		'partners.id': 'ID',
		'back': '뒤로',
		'newPartners': '새 파트너',
		'view': '보기',
		'upgrade': '업그레이드',
		'from': '보낸 사람',
		'dividend': '배당',
		'clear': '초기화',
		'directPartnerTip': '직접 파트너 - 직접 파트너가 내 레벨의 슬롯을 점유',
		'overflowTip': '아래에서 오버플로우 - 내 하위 파트너가 내 레벨의 슬롯을 점유',
		'noBonusTip': '보너스 없음',
		'walletAddress': '지갑 주소',
		'tips': '팁',
		'registerPayTip': '회원가입 및 0.1 BNB 결제로 V1 멤버로 업그레이드',
		'availableBalance': '사용 가능 잔액'
	},
	zh_tw: {
		'dashboard.title': '儀表板',
		'dashboard.back': '返回',
		'dashboard.details': '詳情',
		'dashboard.copy': '複製',
		'dashboard.inviteLink': '我的邀請連結',
		'dashboard.myPartners': '我的夥伴',
		'dashboard.invitedBy': '邀請人ID',
		'dashboard.upgrade': '升級',
		'dashboard.view': '查看',
		'dashboard.success': '成功',
		'dashboard.failed': '失敗',
		'dashboard.loading': '加載中...',
		'dashboard.logout': '登出',
		'register.title': '註冊',
		'register.inviteId': '邀請人ID',
		'register.connectWallet': '連接錢包',
		'register.register': '註冊',
		'register.copySuccess': '邀請連結已複製！',
		'register.copyFailed': '複製失敗',
		'slotHistory.title': '插槽歷史',
		'slotHistory.recentRewards': '最近獎勵',
		'slotHistory.noData': '暫無獎勵記錄。',
		'slotHistory.back': '返回',
		'partners.title': '我的夥伴',
		'partners.noData': '暫無新夥伴。',
		'partners.details': '詳情',
		'partners.myPartners': '我的夥伴',
		'partners.invitedBy': '邀請人ID',
		'partners.vip': 'T',
		'partners.id': 'ID',
		'back': '返回',
		'newPartners': '新夥伴',
		'view': '查看',
		'upgrade': '升級',
		'from': '來自',
		'dividend': '分紅',
		'clear': '清空',
		'directPartnerTip': '直推夥伴 - 直推夥伴佔據你本級別的插槽',
		'overflowTip': '下溢 - 你的下級夥伴佔據你本級別的插槽',
		'noBonusTip': '未產生分紅',
		'walletAddress': '錢包地址',
		'tips': '提示',
		'registerPayTip': '註冊並支付0.1 BNB升級為V1會員',
		'availableBalance': '可用餘額'
	}
};

function t(key) {
	const lang = localStorage.getItem('lang') || 'en';
	const dict = window.I18N_DICT[lang] || window.I18N_DICT['en'];
	return dict[key] || key;
}

function applyI18n(lang) {
	const dict = window.I18N_DICT[lang] || window.I18N_DICT['en'];
	document.querySelectorAll('[data-i18n]').forEach(el => {
		const key = el.getAttribute('data-i18n');
		if (dict[key]) el.textContent = dict[key];
	});
	localStorage.setItem('lang', lang);
}

// 页面加载时自动应用
window.addEventListener('DOMContentLoaded', function() {
	const userLang = localStorage.getItem('lang') || 'en';
	applyI18n(userLang);
	// 设置按钮高亮
	document.querySelectorAll('.lang-btn').forEach(btn => {
		btn.classList.toggle('active', btn.dataset.lang === userLang);
		btn.onclick = function() {
			const lang = btn.dataset.lang;
			localStorage.setItem('lang', lang);
			document.querySelectorAll('.lang-btn').forEach(b => b.classList.remove('active'));
			btn.classList.add('active');
			const dropdown = document.querySelector('.lang-dropdown');
			if(dropdown) dropdown.classList.remove('open');
			window.location.reload();
		};
	});

	// 地球按钮下拉菜单事件
	const langDropdownBtn = document.getElementById('langDropdownBtn');
	const langDropdown = langDropdownBtn ? langDropdownBtn.closest('.lang-dropdown') : null;
	if(langDropdownBtn && langDropdown) {
		langDropdownBtn.addEventListener('click', function(e) {
			e.stopPropagation();
			langDropdown.classList.toggle('open');
		});
		document.addEventListener('click', function(e) {
			if (!langDropdown.contains(e.target)) {
				langDropdown.classList.remove('open');
			}
		});
	}
});

// 导出t函数
window.t = t; 